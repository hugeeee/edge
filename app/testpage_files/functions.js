function formatText(t){return t=t.toLowerCase(),t=t.replace(/ /g,"-")}window.console||(console={log:function(){}}),function(e){e.extend(e.ui.tabs.prototype,{rotation:null,rotationDelay:null,continuing:null,rotate:function(e,o){var a=this,i=this.options;(e>1||null===a.rotationDelay)&&void 0!==e&&(a.rotationDelay=e),void 0!==o&&(a.continuing=o);var n=a._rotate||(a._rotate=function(t){clearTimeout(a.rotation),a.rotation=setTimeout(function(){var t=i.selected;a.select(++t<a.anchors.length?t:0)},e),t&&t.stopPropagation()}),s=a._unrotate||(a._unrotate=o?function(){t=i.selected,n()}:function(t){t.clientX&&a.rotate(null)});return e?(this.element.bind("tabsshow",n),this.anchors.bind(i.event+".tabs",s),n()):(clearTimeout(a.rotation),this.element.unbind("tabsshow",n),this.anchors.unbind(i.event+".tabs",s),delete this._rotate,delete this._unrotate),1===e&&(e=a.rotationDelay),this},pause:function(){{var t=this;this.options}t.rotate(0)},unpause:function(){{var t=this;this.options}t.rotate(1,t.continuing)}})}(jQuery),$.urlParam=function(t){var e=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href);return null===e?null:e[1]||0};var omniture=function(){var t=function(){$("[data-track]").click(function(){var t=$(this);e(t.attr("data-track"))})},e=function(t){if(t.match(/lid=/)){var e=t.split("lpos=")[1],o=t.split("&lpos")[0].split("lid=")[1];sky.tracking.featuredContentClickManual(e,o)}},o=function(){sky.tracking.pageView(SKY_TRACKING),"undefined"!=typeof ga&&ga("send","pageview",sky.tracking.s.pageName)};return{init:t,track:e,initAllPages:o}}(),takeover=function(){var t=function(){var t=0!==oc.takeover.width?!0:!1,e=t?oc.takeover.width:160,o=t?0:10,a=$("#container"),i=a.position().left,n=Math.round(i+a.width()+o),s=Math.round(i-e-o);2*oc.takeover.width+a.width()>=$(window).width()&&$("body").css("overflow-x","hidden"),$("#ad-container-takeover-left").css("left",s+"px").removeClass("hide"),$("#ad-container-takeover-right").css("left",n+"px").removeClass("hide");var r=60;$("#ad-container-takeover-left, #ad-container-takeover-right").css("top",Math.round(r+o)+"px"),t&&($("body").css("background",oc.takeover.color),$("#outer-container").css("background","inherit"))},e=function(){return oc.isTouchable===!0?($("body").removeClass("takeover"),$("#ad-container-takeover-left").remove(),void $("#ad-container-takeover-right").remove()):(t(),void $(window).resize(function(){takeover.positionBackgroundImages()}))};return{init:e,positionBackgroundImages:t}}(),stickyHeader=function(){function t(){var t=$(window).scrollTop(),a=0!==oc.takeover.width?"sticky takeover":"sticky";headerHeight=76,t>headerHeight?($("#header-placeholder").removeClass("hide"),o.css({position:"fixed",top:"0"}),e.addClass(a)):($("#header-placeholder").addClass("hide"),o.css({position:"static",top:"-"+headerHeight+"px"}),e.removeClass(a))}var e=$("#ad-container-takeover-right, #ad-container-takeover-left").not(".hide"),o=$("#nav-sports-menu"),a=function(){t(),$(window).scroll(function(){t()})};return{init:a}}(),navigation=function(){var t=function(){$("#expand-bets-link").click(function(){$(this).hasClass("active")?($(this).removeClass("active"),$("#wrapper-content").animate({marginLeft:"150px"},200,function(){$("#lhc").show(),oddsTable.initBookiesBar()})):($(this).addClass("active"),$("#lhc").hide(),$("#wrapper-content").animate({marginLeft:"0"},200,function(){oddsTable.initBookiesBar()}))}),$(".date-range").datepicker({dateFormat:"yy-mm-dd"}),$("#sport-nav .more-li .more, #nav-calculators .more").not(".nav-popout").bind("click",function(t){t.preventDefault(),$(this).toggleClass("less"),$(this).next().toggleClass("hide")}),$("#sports-nav .nav-content li").not("#sports-nav .nav-content li li").hoverIntent(function(){$(this).addClass("sfhover"),$("#sports-nav").removeClass("imitate-hover"),$(this).find(".nav-content").removeClass("hide")},function(){$(this).removeClass("sfhover")}),oc.isTouchable&&($("#sports-nav .top-menu-item-link").bind("click",function(){$("#sports-nav").toggleClass("sfhover")}),document.onclick=function(){},touchableEvents.bindEvents("click",$(document),function(t){touchableEvents.hideHoverElementsWhenTouchAway(t)})),$(".site-sticker").click(function(t){var e=$(this).attr("id");t.preventDefault(),"beta"==e?$.cookie("beta","true",{path:"/",expires:365,domain:oc.cookieDomain}):$.cookie("beta","false",{path:"/",expires:365,domain:oc.cookieDomain}),window.location.reload()}),oc.capableBrowser||$("#nav-multiples-button").click(function(){window.location=oc.mainUrl+"/bet-basket"}),$(".modal-button").click(function(t){t.preventDefault();var e=$(this),o="#"+$(this).attr("data-modal-id");e.not(".loaded").attr("data-ajax-url")&&commonUtils.ajaxCallHandler({url:oc.mainUrl+"ajax-html-fragment/"+e.attr("data-ajax-url"),type:"get",async:!1,dataType:"html"},function(t){e.addClass("loaded"),$("body").append($.parseHTML(t)),commonUtils.angularCompiler(o)});var a=$("body").find(o);a.find(".row").show(),a.find(".success-container, .error-container").hide().find("ul").empty(),a.addClass("active"),a.find(".modal-dialog-overlay, .inside-close-button").unbind("click").click(function(t){t.preventDefault(),a.removeClass("active")})}),$("#feedback-types a").live("click",function(t){t.preventDefault();var e=$(this);e.parent().find("a").removeClass("selected"),e.addClass("selected").parent().find("input[type=hidden]").val($(this).attr("data-type"))});var t;$("#feedback-ajax-form").live("submit",function(e){e.preventDefault();var o=$(this),a=o.find("input, textarea, button"),i=o.serialize();o.find(".loader").show().end().find(".error-container,.success-container").hide().end().find(".errors").empty(),a.prop("disabled",!0),t=$.ajax({url:"feedback/send-ajax-feedback",type:"post",data:i}),t.done(function(t){if(o.find(".loader").hide(),"success"==t.submit)o.find(".success-container").show().end().find(".row").hide(),a.val("");else if("error"==t.submit){a.prop("disabled",!1);for(var e=JSON.parse(t.validation),i="",n=0;n<e.length;n++)i+='<li class="error">'+e[n]+"</li>";o.find(".error-container .errors").append(i).parent().show()}else alert("An error occured. Your message was not send")}),t.fail(function(){alert("An error occured. Your message was not sent")}),t.always(function(){a.prop("disabled",!1)})}),$("#login-box .button").live("click",function(t){t.preventDefault(),$(this).parents("form").siblings("#login-container").toggleClass("open")}),$("#opt-in-form .open-terms").click(function(t){t.preventDefault(),$("#opt-in-terms-and-conditions").addClass("active")}),$("#opt-in-terms-and-conditions .inside-close-button, #opt-in-terms-and-conditions .modal-dialog-overlay").click(function(){$("#opt-in-terms-and-conditions").removeClass("active")}),$(".login-button").click(function(t){t.preventDefault(),$(this).siblings("#header-login-panel").end().parent().toggleClass("panel-open")}),$("#myoddschecker-btn").click(function(t){t.preventDefault(),$(this).parent().toggleClass("panel-open"),t.stopPropagation()}),$(".social-login .icon-black").click(function(t){t.preventDefault(),$("#social-login-info").toggleClass("panel-open"),$(this).toggleClass("panel-open"),t.stopPropagation()}),$("#logout-btn").click(function(t){t.preventDefault();var e=angular.element(t.target).scope();e.MainController.oddscheckerLogOutRoutine()}),$(".all-sports").click(function(){$(this).toggleClass("panel-open"),$("#all-sports-panel").toggleClass("open-panel")}),$(document).click(function(t){$(t.target).is(".myoc-button")===!1&&$("#myoc-container").removeClass("panel-open")}),$(".scroll-lock").bind("mousewheel DOMMouseScroll",function(t){var e=t.originalEvent,o=e.wheelDelta||-e.detail;this.scrollTop+=15*(0>o?1:-1),t.preventDefault()}),$("#multi-bet-slip-controller .bet-menu-button").live("click",function(){$(this).closest(".bet-menu-options-wrap").toggleClass("active")}),$(".bet-menu-options div").live("click",function(){$(this).closest(".bet-menu-options-wrap").toggleClass("active")}),$("#bookie-dropdown").live("click",function(t){function e(){a.removeClass("active").find("ul").scrollTop(0),o.removeClass("active")}var o=$(this),a=$("#"+$(this).attr("data-open-dropdown"));t.preventDefault(),a.hasClass("active")?e():(a.position({my:"left",at:"left bottom+10",of:this,collision:"flip"}),a.addClass(/Trident\/7\./.test(navigator.userAgent)?"active ie":"active"),$(this).addClass("active"),$(document).one("click",e))}),$(".betDetails.single span strong").live("hover",function(t){function e(){a.removeClass("active"),o.removeClass("active")}var o=$(this),a=$("#"+$(this).attr("data-open-dropdown"));t.preventDefault(),a.hasClass("active")?e():(a.position({my:"left",at:"left bottom+10",of:this,collision:"flip"}),a.addClass(/Trident\/7\./.test(navigator.userAgent)?"active ie":"active"),$(this).addClass("active"),$(document).one("hover",e))}),$(".date-range").click(function(){$(this).datepicker("show")}),$(".hover-circle").live("hover",function(t){function e(){o.removeClass("active")}var o=$("#help-tooltip");t.preventDefault(),o.hasClass("active")?e():(o.position({my:"left center",at:"right center",of:this,collision:"flip"}),o.addClass("active"))}),$(".manage-link").click(function(t){t.preventDefault();var e=$(".balance-manage");e.toggleClass("active"),$(document).one("click",function o(t){0===e.has(t.target).length?e.removeClass("active"):$(document).one("click",o)})})};return{init:t}}(),nextRacesWidget=function(){var t=function(){$(".raceName").click(function(){var t=$(this),e=t.attr("data-subevent-id");$(".raceName").removeClass("active"),$(".participantList").addClass("hide"),$("#races-participant-list").find('[data-subevent-id="'+e+'"]').removeClass("hide"),t.addClass("active")})};return{init:t}}(),touchableEvents=function(){var t=function(t,e,o){e.on(t,function(t){o(t)})},e=function(t){var e=$(t.target).parents(".touch-nav-hover").length>0||t.target.className.indexOf("touch-nav-hover")>-1||t.target.className.indexOf("popular-sports-a-z")>-1,o=$(t.target).parents(".touch-hover").length>0||t.target.className.indexOf("touch-hover")>-1;e?$(".touch-hover").removeClass("touch-show"):o?$(".touch-nav-hover").removeClass("sfhover"):($(".touch-nav-hover").removeClass("sfhover"),$(".touch-hover").removeClass("touch-show"))};return{bindEvents:t,hideHoverElementsWhenTouchAway:e}}(),footer=function(){var t=function(){$("#our-network .footer-link").click(function(t){t.preventDefault(),$(this).toggleClass("collapse"),$("#network-links").toggleClass("hide"),window.scrollTo(0,$(document).height())})};return{init:t}}(),tabs=function(){var t=function(){var t=".splash-markets .tabs, .splash .tabs:not(.fake), .hm1 .tabs";$(t).tabs({event:"mouseover"}),$(t).not(".stick").tabs("rotate",6e3),$(".tabs:not(.fake, "+t+")").tabs({event:"click"}),$(t).not(".stick").hover(function(){$(t).stop()},function(){$(t).tabs("rotate",6e3)}),$(t).click(function(){$(t).stop(!0)})};return{init:t}}(),imageSwitcher=function(){var t=function(){$("#image-switcher-trigger").click(function(t){t.preventDefault();var e=oc.imageSwitcher.position,o=oc.imageSwitcher.images.length;if(o>1){o-1>e?e++:e=0;var a=$("#image-switcher");1==a.length&&(a.attr("src",oc.imageSwitcher.images[e]),oc.imageSwitcher.position=e)}})};return{init:t}}(),siteSettings=function(){var t=function(){$(".exchange-input").click(function(){var t=$(this),e=$("#winnings");t.attr("data-value")==oc.oddsType&&"winnings"!=t.attr("data-value")?(e.removeClass("open"),t.removeClass("selected")):(t.attr("data-value")!=oc.oddsType||"winnings"==t.attr("data-value"))&&("winnings"==t.attr("data-value")?e.hasClass("open")?(e.removeClass("open"),t.removeClass("selected")):(e.addClass("open"),t.addClass("selected")):($.cookie("odds_type",t.attr("data-value"),{path:"/",expires:365,domain:oc.cookieDomain}),window.location.reload()))}),$("#winnings-calculator .button").click(function(){$.cookie("odds_type","winnings",{path:"/",expires:365,domain:oc.cookieDomain});var t=$("#bet-stake").val();$.cookie("odds_default_stake",t,{path:"/",expires:365,domain:oc.cookieDomain}),window.location.reload()})};return{init:t}}(),exchangeSettings=function(){var t=function(){$("#apply-exchange-commission").click(function(){$(this).is(":checked")?$('[id^="exchange-commission-"]').removeAttr("disabled"):$('[id^="exchange-commission-"]').attr("disabled","disabled")})};return{init:t}}(),popup=function(){var t=function(){$(".popup").click(function(t){t.preventDefault();var e=500,o=510;$(this).hasClass("popout_b")?(e=640,o=600):($(this).hasClass("selTxt")||$(this).hasClass("graph-icon"))&&(e=1e3,o=700),popup.show(this.href,this.title,e,o)})},e=function(t,e,o,a,i,n,s){var r="";s||(r+="width="+o+",height="+a),i&&n&&(r+=",left="+i+",top="+n),r+=s?",toolbar=yes,location=yes,directories=yes,status=yes,menubar=yes,scrollbars=yes,resizable=yes,copyhistory=no":",toolbar=no,location=no,directories=no,status=yes,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no";var l=window.open(t,e.replace(/[:.\+\/\?\&\=\#\%\-\s]/g,"_").toLowerCase(),r);return l?(l.focus(),l):!1};return{init:t,show:e}}(),fixtures=function(){var t=function(){$("#fixtures .add-to-bet-basket").click(function(){if(1!=$(this).parents(".data-include-treble").length)if(oc.capableBrowser){var t=$(this),o=angular.element($('[data-ng-controller="MainController as MainController"]')[0]).controller();o&&o.addToMultipleBetSlip(Number(t.closest("td").attr("data-bid")),Number(t.closest("tr").attr("data-mid")),Number(t.closest("td").attr("data-best-odds")))}else e($(this))}),$("#fixtures .match-on").click(function(t){$(t.target).hasClass("add-to-bet-basket")||(document.location.href=$(this).find(".betting .button")[0].href)})},e=function(t){var e=t.parents("[data-bid]").attr("data-bid"),o=t.parents("[data-mid]").attr("data-mid");t.hasClass("selected")?utilityBar.betBasketAjax(e,o,"delete",!0,t):utilityBar.betBasketAjax(e,o,"add",!0,t)};return{init:t,addOrRemoveBetBasket:e}}(),findABet=function(){var t=function(){"undefined"!=typeof oc.findABet&&oc.findABet.searchPerformed&&e(oc.findABet.stake,oc.findABet.towin,"&cgid="+oc.findABet.cgid+"&cid="+oc.findABet.cid);var t=0,o=["1","2","3","4","5","10","20","30","40","50"],a=4;"undefined"!=typeof oc.findABet&&(t=o.indexOf(oc.findABet.stake,0),-1!=t&&(a=t)),$("#stake-slider").slider({animate:!0,min:0,max:9,step:1,value:a,slide:function(t,e){$("#stake-slider-value").text(o[e.value])}}),$("#stake-slider-value").text("undefined"!=typeof oc.findABet?oc.findABet.stake:o[$("#stake-slider").slider("value")]),$("<span class='first currency'>"+oc.currencySymbol+o[0]+"</span><span class='last currency'>"+oc.currencySymbol+o[9]+"</span>").insertAfter($("#stake-slider"));var i=["1","5","10","12","14","16","18","20","25","30","33","40","50","60","66","70","80","90","100","150","200","250","300","500","750","850","1000"],n=7;"undefined"!=typeof oc.findABet&&(t=i.indexOf(oc.findABet.towin,0),-1!=t&&(n=t)),$("#win-slider").slider({animate:!0,min:0,max:26,step:1,value:n,slide:function(t,e){$("#win-slider-value").text(i[e.value])}}),$("#win-slider-value").text("undefined"!=typeof oc.findABet?oc.findABet.towin:i[$("#win-slider").slider("value")]),$("<span class='first currency'>"+oc.currencySymbol+i[0]+"</span><span class='last currency'>"+oc.currencySymbol+i[26]+"</span>").insertAfter($("#win-slider"));var s=["0","2","3","6","7","9","17","19","18","15"];"AU"==oc.repub?s=["0","3","5","23","19","9","6","7","17","15"]:"DK"==oc.repub?s=["0","2","35","45","7","18","14","6","17","15"]:"IT"==oc.repub&&(s=["0","2","47","7","18","14","6","17","45","9"]);var r=-1;"undefined"!=typeof oc.findABet&&(t=s.indexOf(oc.findABet.cgid,0),-1!=t&&(r=t)),$("#sport-slider").slider({animate:!0,min:0,max:s.length-1,step:1,value:r,slide:function(t,e){$("#sport-slider-value").text($(l[e.value]).text()),$(".sport-img-link span").removeClass("selected"),$($(".sport-img-link span")[e.value]).addClass("selected")}});var l=$(".sport-img-link li span");l.length>0&&($("#sport-slider-value").text($(l[r]).text()),$($(".sport-img-link span")[r]).addClass("selected")),$("#find-a-bet-go").click(function(t){t.preventDefault();var o=$("#stake-slider-value").text(),a=$("#win-slider-value").text(),i=$(this),n="&cgid="+i.attr("data-cgid")+"&cid="+i.attr("data-cid");"non-static/find-a-bet"==oc.view?(n="&cgid="+s[$("#sport-slider").slider("value")],e(o,a,n)):document.location.href=this.href+"?stake="+o+"&towin="+a+n}),"non-static/find-a-bet"==oc.view&&$(document).on("click",".add-to-bet-basket",function(){fixtures.addOrRemoveBetBasket($(this))}),$(".fixture .more").click(function(){$(this).parent(".text").find(".hide").removeClass("hide"),$(this).remove()}),$("#cheltenham-fixtures h2 .arrow").click(function(){$(this).parent().next().find("a.more").click(),$(this).toggleClass("close")}),$("#cheltenham-fixtures .more").click(function(){var t=$(this).attr("data-race"),e=$(this).closest("table");$(this).toggleClass("close"),e.find(".race-row"+t).toggleClass("hide"),e.find(".race"+t).toggleClass("no-border")}),"ipad"==oc.deviceName&&($("#stake-slider").draggable(),$("#win-slider").draggable(),$("#sport-slider").draggable())},e=function(t,e,o){$("#find-a-bet-results-container").html("<p class='find-a-bet-loading'> "+oc.findABet.loadingResults+" <img src='"+oc.staticServer+"i/layout/loading.gif' alt='loading' width='32' height='32' /> </p>"),$.ajax({url:"/ajax/load-find-a-bet?stake="+t+"&towin="+e+o,dataType:"html",success:function(t){$("#find-a-bet-results-container").html(t)}})};return{init:t,findABetAjax:e}}(),betBasket=function(){var t=function(){if(oc.capableBrowser&&window.location.href.indexOf("true")>-1){var t=($(this),angular.element($.query('[data-ng-controller="MainController as MainController"]')[0]).controller());t&&t.toggleMultiBetSlip()}$("#bet-basket-scroll-left").click(function(){$("#bet-basket-table-others").animate({left:"0"},1e3)}),$(".bk3-hover").hoverIntent(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}),$("#bet-basket-scroll-right").click(function(){var t=$("#bet-basket-table-others"),e=t.css("left").substr(0,t.css("left").length-2),o=$("#bet-basket-table-slider").outerWidth(),a=$("#t2 tr td.odds-total"),i=a.outerWidth(),n=a.outerWidth();a.each(function(){if(o>i){var t=$(this).outerWidth();i+=t,o>i+t&&(n+=t)}});var s=e-n;s<-1*(t.outerWidth()-o)&&(s=-1*(t.outerWidth()-o)),t.animate({left:s+"px"},1e3)}),e()},e=function(){var t=$("#bet-basket").outerWidth()-$("#bet-basket-table-best").outerWidth()-1;$("#bet-basket-table-slider").css("width",t+"px")};return{init:t,setTableWidth:e}}(),utilityBar=function(){var t=function(){e()},e=function(){$(".bet-basket-info-button").hover(function(){var t=$(this).siblings(".bet-basket-info-pop-up");t.toggleClass("active")}),$(".bet-basket-delete").click(function(){var e=$(this).parents("[data-mid]"),o=!0;t(e,o)}),$(".bet-basket-delete-all").click(function(){a("","","delete-all",!0,$(".bet-basket-element"));var e=!1;$(".bet-basket-element").each(function(){t($(this),e)})});var t=function(t,e,o){var i=t.attr("data-mid"),n=t.attr("data-bid");if(null===o){var s=$($("*[data-bid = '"+n+"']")[0]);o=s.hasClass("add-to-bet-basket")?s:s.find(".add-to-bet-basket")}e&&a(n,i,"delete",!0,o)};$(".bet-basket-checkbox").click(function(){var t=$(this).parents("[data-mid]"),o=t.attr("data-mid"),i=t.attr("data-bid");this.checked===!0?(e(),a(i,o,"tick")):(e(),a(i,o,"untick"))});var e=function(){$(".bet-basket-checkbox").not(":checked").parents("[data-mid]").hasClass("unselected")?$(".bet-basket-checkbox:checked").parents("[data-mid]").removeClass("unselected"):$(".bet-basket-checkbox").not(":checked").parents("[data-mid]").addClass("unselected")};e(),$(".bet-basket-quick-bet, .add-log-link").click(function(){var t=$(this).attr("data-bookie"),e="",o="",a=0,i=[],n="M-",s=$(".bet-basket-element").has("input[checked]"),r=$(".bet-basket-element").length-$(".bet-basket-element:contains('N/A')").length,l=1===$(".bet-basket-total-row").find(".odds-best").length?$(".bet-basket-total-row").find(".odds-best").text():$(".bet-basket-best-odds-inner").length>0?$(".bet-basket-best-odds-inner")[0].innerHTML:0,c=$(this).parent().find(".odds-total-value, .bet-basket-best-odds-inner"),d=c.text(),u=c.hasClass("odds-best")||c.hasClass("bet-basket-best-odds-inner")?"1":"0";if(s.each(function(){e+=$(this).attr("data-bid")+"*"+$(this).attr("data-mid")+"*","bet-basket-page"!=$(this).attr("data-source")&&"N/A"!==$(this).find(".bet-basket-odds").text()&&(a++,o+=$(this).attr("data-bid")+"/"+$(this).attr("data-mid"),r>a&&(o+="|"))}),"bet-basket-page"==$(this).attr("data-source")){for(var f=$(this).parent().parent().children().index(this.parentNode),h=$("#bet-basket-table-others tbody tr.bet-basket-row").length,p=0;h>p;p++){var b=$("#bet-basket-table-others tbody tr.bet-basket-row").eq(p).find("td").eq(f),v=$("#bet-basket-table-best tbody tr.bet-basket-row").eq(p).find(".bet-basket-checkbox").is(":checked");v&&"N/A"!==b.text()&&""!==b.text()&&i.push(b.attr("data-bid")+"/"+b.parent().attr("data-mid"))}o=i.join("|")}-1===o.indexOf("|")?(o=o.replace("/","-"),n="S-"):o=o+"-"+d;var m=n+t+"-"+o;if(oc.showBetLog&&!utilityBar.checkIfDuplicate(m)&&utilityBar.betLogAjax(m),!$(this).hasClass("add-log-link")){var k="";$(".odds-total-value.odds-best").each(function(){k+=","+$(this).parent().find("*[data-bookie]").attr("data-bookie")});var g="/bet-basket"==oc.urlPath?"bet-basket":"bet-basket-bar",w=t+"betslip",C="/betslip/?bk="+t+"&odds="+encodeURIComponent(d)+"&multi_ids="+e+"&isBestOdds="+u+"&bestOddsDecimal="+l+"&bestBookies="+k+"&cardId="+g,y="BS"!==t&&"EE"!==t&&"B3"!==t;popup.show(C,w,oc.defaultPopupWidth,oc.defaultPopupHeight,0,0,y)}}),oc.isTouchable&&"non-static/bet-basket"==oc.view&&($(".bk3-hover").click(function(t){t.preventDefault()}),touchableEvents.bindEvents("click",$(".bk3-hover"),function(t){oddsTable.showOffersThenClickOut(t)}))},o=function(t){var e=[],o=$.cookie(t);""!==o&&(e=o.split("~"));var a=[];if(e.length>1)for(var i=0;i<e.length;i+=2)a[e[i]]=e[i+1];return a},a=function(t,o,a,i,n){if(void 0===n&&(n=null),null===n||!n.is("[disabled]")){for(var s=t.split("|"),l=o.split("|"),c=s.length,d=0;c>d;d++)"undefined"!==s[d]&&r(s[d],l[d],a);null!==n&&1==n.length&&n.hasClass("add-to-bet-basket")&&(n.addClass("loading"),n.attr("disabled","disabled")),$.ajax({url:"/ajax/load-basket?view="+oc.view,dataType:"html",success:function(t){if("non-static/bet-basket"==oc.view){var e=$("#bet-basket-inner-main",t);if(null!==e){$("#bet-basket").empty(),$("#bet-basket").append(e);var o=angular.element($('[data-ng-controller="MainController as MainController"]')[0]).controller();o.runOnContentLoad($("#bet-basket"))}else alert("An error has occured. Please refresh your browser")}if("delete-all"==a)n.each(function(){var t,e=$(this).attr("data-bid"),o=$($("*[data-bid = '"+e+"']"));if(t=o.hasClass("add-to-bet-basket")?o:o.find(".add-to-bet-basket"),t.length>0){var a=t.attr("data-name"),i=oc.text.add$ToBetBasket.replace("%1",a);t.attr("title",i),t.removeClass("selected")}});else if(null!==n&&1==n.length){n.toggleClass("selected");var i=n.attr("data-name");if(void 0!==i){var s=oc.text.add$ToBetBasket.replace("%1",i),r=oc.text.remove$FromBetBasket.replace("%1",i);n.hasClass("selected")?n.attr("title",r):n.attr("title",s)}}}}).done(function(){null!==n&&(n.removeClass("loading"),n.removeAttr("disabled")),$("#bet-basket-panel").find(".spinner").hide(),$("#bet-basket-panel").addClass("panel-loaded"),e(),"non-static/bet-basket"==oc.view&&betBasket.init(),$("#bet-basket-panel").hasClass("hide")&&show("bet-basket")})}},i=function(t,e,a){var i=o(t);i||(i=[]),i[e]=a,s(t,i)},n=function(t,e){var a=o(t);a[e]="",s(t,a)},s=function(t,e){var o="";for(var a in e)e.hasOwnProperty(a)&&a.length>0&&e[a].length>0&&(o+=a+"~"+e[a]+"~");o=o.substr(0,o.length-1),$.cookie(t,o,{path:"/",expires:7,domain:oc.cookieDomain})},r=function(t,e,o){switch(o){case"delete":n("basket",t);break;case"tick":case"add":i("basket",t,e+"-1");break;case"untick":i("basket",t,e+"-0");break;case"delete-all":$.cookie("basket","",{path:"/",expires:7,domain:oc.cookieDomain});break;case"load":}};return{init:t,betBasketAjax:a}}(),betSlip=function(){var t={},e=function(){if(window.location.href.indexOf("bet-link=true")>-1){var t=window.location.href.substring(window.location.href.indexOf("?")+1).split("&"),e=t[1].substring(t[1].indexOf("=")+1),a=t[2].substring(t[2].indexOf("=")+1);o(!1,e,a)}oc.isTouchable&&"non-static/bet-basket"!=oc.view||$(document).on("click",".bk-logo-click",function(){n($(this))}),$(document).on("click",".bs",function(){!oc.capableBrowser||"undefined"==typeof angular||$(this).hasClass("clickout")?($.log("angular not loaded"),i($(this))):oc.hasAPIBookies?o($(this)):i($(this))})},o=function(t,e,o){var a=angular.element($('[data-ng-controller="XmlBetController as XmlBetController"]')[0]).controller();a&&(1===t.length?o=common.getBookieFromButton(t):t=common.getBetButtonObject(e,o),a.openSingleBetSlip(t,o))},a=function(){var e,o,a,i;e=angular.element($("#single-bet-slip-controller")[0]).scope(),o=e.BetSlipModalController.betSlip.client.betslipUrls,a=o.clickOutBetslip,i=e.BetSlipModalController.clientBookie.getCode(),oc.debugOn&&(a+="&debug");var n=$.cookie("odds_grid_clicks");if(null!==n){var s=n.split("~"),r=s[0],l="";2==s.length?(l=s[1],-1==l.indexOf(i)&&(""!==l&&(l+="-"),l+=i)):l=i,$.cookie("odds_grid_clicks",r+"~"+l,{path:"/",expires:365,domain:oc.cookieDomain})}var c=!0;$.inArray(i,oc.bookiesToPopUp)>-1&&("PP"!=i||"3"!=oc.categoryGroupId)&&(c=!1);var d="SJ"==i||"FR"==i?"":i+"betslip";void 0!==typeof t[i]&&t[i]?t[i].closed||""!==d?t[i]=popup.show(a,d,oc.defaultPopupWidth,oc.defaultPopupHeight,0,0,c):t[i].location=a:t[i]=popup.show(a,d,oc.defaultPopupWidth,oc.defaultPopupHeight,0,0,c)},i=function(t){var e=common.getBookieFromButton(t),o=e+"clickout",a=t.closest(".eventTable").attr("data-mid"),i=t.closest(".eventTableRow").attr("data-bid"),n=t.closest(".eventTableRow").attr("data-best-bks"),s=oc.mainUrl+"betslip?bk="+e+"&mkid="+a+"&pid="+i+"&bestBookies="+n;popup.show(s,o,oc.defaultPopupWidth,oc.defaultPopupHeight,0,0,!0)},n=function(t){var e=t.attr("data-bk"),o="/clickout.htm?customer=new&type=bk-logo-click&bk="+e+"&cg="+t.parents("[data-mid]").attr("data-cgname");oc.debugOn&&(o+="&debug");var a=e+"clickout",i=!0;popup.show(o,a,oc.defaultPopupWidth,oc.defaultPopupHeight,0,0,i)};return{init:e,handleSingleBetClickout:a,handleSingleBetSlipClick:o,bkLogoClick:n}}(),miniTableBet=function(){var t=function(){$(".minitable-row").click(function(){oc.capableBrowser?betSlip.handleSingleBetSlipClick($(this)):window.location.href=$(this).parent().parent(".eventTable").attr("data-href")})};return{init:t}}(),cardReports=function(){var t=function(){$("#report").tablesorter({widgets:["zebra"],debug:!1})};return{init:t}}(),quickSwitch=function(){var t=function(){$(".quick-switch").change(function(){var t=$(this).find("option:selected").val();""!==t&&(document.location.href=t)})};return{init:t}}(),oddsTable=function(){var t=function(t){var e=$(t.target).parents(".touch-hover").length>0?$(t.target).parents(".touch-hover"):$(t.target);e.hasClass("touch-show")?(e.removeClass("touch-show"),e.hasClass("tipping-hover")?e.addClass("add-tip"):e.hasClass("bk-logo-click")?betSlip.bkLogoClick(e):void 0!==e.attr("href")&&popup.show(e.attr("href"),e.attr("data-bk")+"betslip",oc.defaultPopupWidth,oc.defaultPopupHeight)):($(".touch-show").removeClass("touch-show"),e.addClass("touch-show"))},e=function(){$(".jump-scroll").click(function(){$("html, body").animate({scrollTop:$(".form-betting-jump").offset().top},200)}),oc.capableBrowser||$(".add-to-bet-basket").click(function(){fixtures.addOrRemoveBetBasket($(this))});var t=$("#market-tabs");if(1==t.length){var e=$("#more-bets"),a=$("#more-bets-list");if(1==e.length&&1==a.length){var s=e.offset().left,r=s+e.width(),l=t.offset().left+10,c=a.width();c>r-l?$("#more-bets-list").css("margin-left","-"+(s-l)+"px"):$("#more-bets-list").css("margin-left",e.width()-c+"px")}}var d=$.cookie("odds_grid_clicks");if(null!==d){var u=d.split("~"),f=u[0],h="";2==u.length&&(h="~"+u[1]),$.cookie("odds_grid_clicks",++f+h,{path:"/",expires:365,domain:oc.cookieDomain})}else $.cookie("odds_grid_clicks","1",{path:"/",expires:365,domain:oc.cookieDomain});var p=$.cookie("odds_grid_clicks"),b=p.split("~"),v=numOnly(b[0]),m=void 0===b[1];(null===p||m&&(10===v||100===v))&&utilityBar.show("help"),$(".sort-participant").click(function(){n()}),i(),o();var k=$(".bk3-hover, .spread-market-hover, .tipping-hover, .bk-logo-click");if(oc.isTouchable?(k.on("click",function(t){t.preventDefault()}),touchableEvents.bindEvents("click",k,function(t){oddsTable.showOffersThenClickOut(t)})):k.hoverIntent(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")}),$('[id^="bk3-flag-b-"]').hoverIntent(function(){var t=this.id.substring(11);$(".offer-sp .bk3-hover[data-bk3-b=bk3-b-"+t+"]").addClass("hover")},function(){var t=this.id.substring(11);$(".offer-sp .bk3-hover[data-bk3-b=bk3-b-"+t+"]").removeClass("hover")}),$(".video-link").click(function(t){t.preventDefault();var e=$(this).attr("href");$("#video-player").remove();var o=$('<iframe id="video-player" src="//'+e+'?rel=0&wmode=opaque&autoplay=1" frameborder="0" height="200" width="405" type="text/html" class="video-player" title="Video Player" allowfullscreen=""></iframe>');$("#video-container").html(o),$("html, body").animate({scrollTop:$("#video-container").offset().top},200)}),$.urlParam("selectionName")){var g=$(".eventTableRowSelected");1==g.length&&$("#t1 tr").index(g)>5&&$("html, body").animate({scrollTop:g.offset().top-120-45},1e3)}},o=function(){$(".header_strap:not('.no-close')").click(function(){var t=$(this);t.toggleClass("header_strap_closed"),t.parent().find(".content_strap").toggleClass("hide")}),$(".help").click(function(){var t=$(this);t.parent().find("#helpS").toggleClass("hide")}),$(".horseInfo .info .icon").hover(function(){$(this).parent().find(".overRaceComment").toggleClass("hide")})},a=function(){if(oc.capableBrowser){var t=$("#oddsTableContainer table.eventTable"),e=$("#oddsTableContainer table.eventTable tr#etfEW td"),o=$("#oddsTableContainer table.eventTable tr.eventTableHeader td"),a=$("#ew_bookie_content"),i=$("#ew_bookie_content_ew");a.css("width",t.width()),i.css("width",t.width());var n=0,s=[];o.each(function(){"none"!=$(this).css("display")&&(s[n]=$(this).width(),n++)}),n=0,$("#ew_bookie_content tr.ew_bookie_row td").each(function(){"none"!=$(this).css("display")&&($(this).css("width",s[n]),n++)}),n=0;var r=[];e.each(function(){"none"!=$(this).css("display")&&(r[n]=$(this).width(),n++)}),n=0,$("#ew_bookie_content_ew tr.ew_row td").each(function(){"none"!=$(this).css("display")&&($(this).css("width",r[n]),n++)})}},i=function(){function t(){if(!oc.resize){var t=$(window).scrollTop(),e=$(window).scrollLeft(),a=p-e;o.css("left",a),n.css("left",a);var i=parseInt(c+t+100);h+d+200>i+c?(o.css("display","none"),n.css("display","none")):f>i&&i>h?(o.css("display","block"),n.css("display","block")):s.length>0&&s.offset().top>h&&f>i?(n.css("display","block"),o.css("display","none")):(o.css("display","none"),n.css("display","none"))}}if(oc.capableBrowser){var e=$("#oddsTableContainer table.eventTable");if(e.length>0){var o=$("#ew_bookie_container"),n=$("#ew_bookie_container_ew"),s=$("#etfEW"),r=$("#utility-bar-menu"),l=0;1===r.length&&(l=r.height()+1),a();var c=$(window).height(),d=($(window).width(),$("#oddsTableContainer table.eventTable tr.eventTableHeader").height()-11),u=$("#oddsTableContainer"),f=u.offset().top+u.height()+l,h=u.offset().top+d+c;$(window).height()>600?o.css("top","55px"):o.css("top","0px");var p=$("#mc").offset().left;oc.resize=!1,t(),$("#t1")&&($(window).resize(function(){oc.resize=!0,$(window).unbind("scroll"),$(window).unbind("resize"),takeover.positionBackgroundImages(),i()}),$(window).scroll(function(){t()}))}}},n=function(){$(".aOSHCBtn"+oc.aOSHCstate).removeClass("selected"),oc.aOSHCstate=0===oc.aOSHCstate?1:0,$(".aOSHCBtn"+oc.aOSHCstate).addClass("selected"),ts_resortTab(oc.aOSHCstate)},s=function(t,e,o,a,i){$('[id^="tip-"]').html("");
var n='<a class="tipping-hover" href="'+oc.mainUrl+"tipping-competitions/"+t+'"><img width="20" height="25" class="imgTipIcon" src="'+oc.staticServer+'i/tipping/tip-pending.gif"><div class="tippingPopupText contentBK3PopupText hide tipping-racing"><h2 class="title"><span class="second-word">Tipping Competition</span></h2><span>Tip added</span><br>You tipped: <strong>'+o+"</strong><br>Price: <strong>"+a+"</strong><br>Stake: <strong>"+i+'</strong><br><br><span class="footer">Your tipster account has updated, click to view your account.</span><img class="offer-text-arrow" height="31" width="28" src="'+oc.staticServer+'i/tables/offer-text-arrow.png"></div></a>';$(n).appendTo($("#tip-"+e))};return{init:e,initBookiesBar:i,sortParticipant:n,tippedPlaced:s,showOffersThenClickOut:t,setEachWayCellWidths:a}}(),numOnly=function(t){if(void 0===t||""===t)return 0;if(isNaN(parseFloat(t))){if(!t.replace)return 0;t=t.replace(/[^0-9.-]/g,"")}return parseFloat(t)},oddsMoreFilter=function(){var t=function(){$("#all-odds-more-filter").bind("keyup",function(){e()}),$("#all-odds-more-filter").bind("search",function(){e()})},e=function(){var t=$("#all-odds-more-filter").val();$(".more-list-li a").each(function(){$(this).text().match(new RegExp(t,"i"))?$(this).parent().show():$(this).parent().hide()})};return{init:t}}(),Chart=function(){var t=function(){for(var t=oc.charts.length,o=0;t>o;o++){var a=oc.charts[o];e(a.type,a.container,a.data,a.yaxis,a.title,a.series)}},e=function(t,e,o,a,i,n){if(1==$("#"+e).length)if("pie"==t){var s=o.length;if(s>5){for(var r=0,l=5;s>l;l++)r+=o[l][1];o.splice(5,s-5,["Others",r])}var c=0;"my_chart"!=e&&(c=-20),new Highcharts.Chart({credits:!1,chart:{renderTo:e,plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,backgroundColor:"none"},colors:["#FFFF00","#009933","#FF0099","#33CCFF","#6600CC","#FF9900"],title:{text:null,align:"left",style:{color:"#ffffff",fontSize:"20px"}},tooltip:{formatter:function(){return this.percentage.toFixed(2)+" % of Bets"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",size:"100%",dataLabels:{enabled:!1,color:"#000000",distance:5,y:5,style:{"font-weight":"normal","font-family":"verdana","font-size":"11px"},formatter:function(){return"<b>"+this.point.name+"</b>"}},showInLegend:!0,borderWidth:1,borderColor:"#f9f9f9",shadow:!1}},legend:{align:"left",layout:"vertical",borderWidth:0,verticalAlign:"top",x:c},series:[{type:t,name:null,data:o}]})}else"line"==t&&(Highcharts.setOptions({lang:{shortMonths:oc.charts.shortMonths}}),new Highcharts.Chart({credits:!1,chart:{renderTo:e,type:"spline"},title:i,xAxis:{type:"datetime"},yAxis:a,tooltip:{enabled:!1},series:n}))};return{init:t}}(),stats=function(){var t=function(){if($(".help .more").click(function(){$(".help-more").slideToggle(500),$(".help .more").remove()}),"Horse Racing"===oc.stats.sportName){var t=$(".statsPeriod1 option:selected").val(),e=$(".statsPeriod2 option:selected").val();$(".statsPeriod2").change(function(){$(".statsPeriod2 option:selected").each(function(){e=$(this).val()})}),$(".statsPeriod1").change(function(){$(".statsPeriod1 option:selected").each(function(){t=$(this).val()})}),$("#filterBestFor").click(function(){document.location.href="stats/best-for/horse-racing/"+e+"/"+t})}else if("Football"===oc.stats.sportName){var o=$("#statsPeriodCombo option:selected").val(),a=$("#statsTeamCombo option:selected").val(),i=$("#statsCompetitionCombo option:selected").val(),n=formatText($("#statsTeamCombo option:selected").text()),s=formatText($("#statsCompetitionCombo option:selected").text());$("#statsCompetitionCombo").change(function(){$("#statsCompetitionCombo option:selected").each(function(){i=$(this).val(),s=formatText($(this).text())});var t="/ajax/stats-listbox?type=competitions"+unescape("%26filter="),e=t+i;$.ajax({url:e,context:document.body,dataType:"html",success:function(t){var e=$("#statsTeamCombo option:selected").val();$("#statsTeamCombo").html(t),-1!==t.indexOf(e)&&$("#statsTeamCombo").val(e),a=$("#statsTeamCombo option:selected").val(),n=formatText($("#statsTeamCombo option:selected").text())}})}),$("#statsTeamCombo").change(function(){$("#statsTeamCombo option:selected").each(function(){a=$(this).val(),n=formatText($(this).text())})}),$("#statsPeriodCombo").change(function(){$("#statsPeriodCombo option:selected").each(function(){o=$(this).val()})}),$("#filterBestFor").click(function(){n=formatText($("#statsTeamCombo option:selected").text()),document.location.href="stats/best-for/football/"+s+"/"+i+"/"+n+"/"+a+"/"+o});var r="/ajax/stats-listbox?type=competitions"+unescape("%26filter="),l=r+i;$.ajax({url:l,context:document.body,dataType:"html",success:function(t){var e=$("#statsTeamCombo option:selected").val();$("#statsTeamCombo").html(t),-1!==t.indexOf(e)&&$("#statsTeamCombo").val(e),a=$("#statsTeamCombo option:selected").val(),n=formatText($("#statsTeamCombo option:selected").text())}})}},e=function(){$('[id^="toggle-chart-"]').click(function(){var t=this.id.substring(13);$(this).toggleClass("close"),$("#container-"+t).toggleClass("hide")})},o=function(){$("#market-reports-full .table-market-reports").tablesorter({widgets:["zebra"],debug:!1})};return{bestFor:t,betActivity:e,marketReports:o}}(),myOddsChecker=function(){var t=function(){if($(".add-bookmark").click(function(t){t.preventDefault();var e=document.location.pathname+document.location.search,o=encodeURIComponent(e),a=document.title,i=a.indexOf("|"),n=-1==i?a:a.substring(0,i);$.ajax({url:"/ajax/bookmark?bookmark-link="+o+"&bookmark-value="+n,success:function(){$("#nav-bookmarks .inner-nav-container").append('<li><a class="nav-link" href="'+e+'">'+n+"<a></li>"),$("#social-media .bookmark").removeClass("add-bookmark").text(oc.text.bookmarkAdded)}})}),-1!==oc.view.indexOf("myoddschecker")){$(".delete-bookmark").click(function(t){t.preventDefault();var e=this,o=$(".delete-bookmark").index(this),a=$(".bookmarks .useful-tool-link")[o];$.ajax({url:this.href,success:function(){$(e).closest("tr").remove();var t=$("#my-bookmarks tr"),o=t.length;$("#my-bookmarks tr").removeClass("even");for(var i=0;o>i;i++)i%2!==0&&$($("#my-bookmarks tr")[i]).addClass("even");$(a).closest("li").remove()}})}),$(".resend-verify-email").click(function(t){t.preventDefault(),$.ajax({url:this.href})}),$(".change").click(function(t){t.preventDefault();var e=$(this),o=e.parents("form").find(".change-content");o.toggleClass("hide"),o.hasClass("hide")?(e.text(oc.text.change),e.closest("form").find(".error-container,.information-container,.success-container").hide()):(e.text(oc.text.cancel),e.closest("form").parent().find("form").find(".error-container,.information-container,.success-container").hide())}),$("#newsletter").click(function(){var t=$(".newsletter-frequency");this.checked?(t[0].checked="checked",t.removeAttr("disabled")):(t.removeAttr("checked"),t.attr("disabled","disabled"))});var t=function(){0===$("#my-bookmakers li").size()?$("#my-bookmakers").append('<li class="empty"><img src="'+oc.staticServer+'i/myoddschecker/empty-bookie-holder.png" /></li>'):0!==$("#my-bookmakers").children(".bookie").size()&&($("#my-bookmakers").children(".empty").remove(),$("#my-bookmakers").append('<li class="empty"><img src="'+oc.staticServer+'i/myoddschecker/empty-bookie-holder.png" /></li>')),0===$("#other-bookmakers li").size()?$("#other-bookmakers").append('<li class="empty"><img src="'+oc.staticServer+'i/myoddschecker/empty-bookie-holder.png" /></li>'):($("#other-bookmakers").children(".empty").remove(),$("#other-bookmakers").append('<li class="empty"><img src="'+oc.staticServer+'i/myoddschecker/empty-bookie-holder.png" /></li>'))};1==$("#chosen-bookmakers").length&&(t(),$("#my-bookmakers, #other-bookmakers").sortable({connectWith:".connect",cursor:"pointer",stop:function(){t()}}).disableSelection(),$("#apply").click(function(t){t.preventDefault();var e="",o=$("#my-bookmakers li a").toArray();if(0!==o.length)for(var a=0;;)if(0!==a&&(e+=","),e+=o[a].getAttribute("id"),a++,a==o.length)break;document.location.href=this.href+e}))}};return{init:t}}(),welcomeCentre=function(){var t=function(){$(".welcome-hover").hoverIntent(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")})};return{init:t}}(),bookieOffers=function(){var t=function(){$("#filter-bookie-offers .dropdown-list").find("li:first-child").addClass("selected"),$("#filter-bookie-offers select").find("option:first-child").attr("selected","selected"),$("#filter-bookie-offers a").click(function(){var t=$("#"+$(this).attr("data-open-panel"));$("#filter-bookie-offers a").not($(this)).removeClass("panel-open"),$("#bookmakers-container, .dropdown-list").not(t).removeClass("active"),$(this).toggleClass("panel-open"),t.toggleClass("active")}),$(document).click(function(t){var e=$(t.target).is("#filter-bookie-offers a .dropdown-arrow"),o=$(t.target).is("#filter-bookie-offers a");e&&!o||!e&&o||($("#filter-bookie-offers a").removeClass("panel-open"),$("#bookmakers-container, .dropdown-list").removeClass("active"))});var t=function(){$(this).siblings().removeClass("selected");var t,e,o,a=$(this).parent().hasClass("dropdown-list");!$(this).hasClass("selected")&&a?($(this).addClass("selected"),t=$("#customerType .selected").attr("data-value"),e=$("#bookmakers .selected").attr("data-value"),o=$("#sportType .selected").attr("data-value")):(t=$("#customerType").val(),e=$("#bookmakers").val(),o=$("#sportType").val());var i=$(a?".offer-rows":".bookie-offer"),n=i;if(i.addClass("hide"),""!==t&&(n=n.filter("[data-customer-type='"+t+"']")),""!==e)if("-1"==e){var s=a?$("#bookmakers .selected").attr("data-my-bookies"):$("#bookmakers option:selected").attr("data-my-bookies"),r="";if(0===s.length)return void(window.location=oc.mainUrlSsl+oc.myBookmakersUrlTranslation);for(var l=s.split("-"),c=0;c<l.length;c++)r+="[data-bookie-code='"+l[c]+"'], ";r=r.substring(0,r.length-2),n=n.filter(r)}else n=n.filter("[data-bookie-code='"+e+"']");""!==o&&(n=n.filter("[data-sport-type='"+o+"']")),n.removeClass("hide"),0===$(".offer-rows:visible").length&&a||0===$(".bookie-offers:visible").length&&!a?$("#no-results").removeClass("hide"):$("#no-results").addClass("hide"),a&&("bookmakers"===$(this).closest(".dropdown-list").attr("id")?$("#filter-bookie-offers [data-open-panel="+$(this).closest(".dropdown-list").attr("id")+"-container]").html($(this).text()+'<span class="dropdown-arrow"></span>'):$("#filter-bookie-offers [data-open-panel="+$(this).closest(".dropdown-list").attr("id")+"]").html($(this).text()+'<span class="dropdown-arrow"></span>'))};$("#filter-bookie-offers .dropdown-list li").click(t),$("#filter-bookie-offers select").on("change",t),$(".see-details").click(function(t){t.preventDefault(),t.stopPropagation(),$(this).siblings(".text").removeClass("hide"),$(this).addClass("hide")}),$(".see-less").click(function(t){t.preventDefault(),t.stopPropagation(),$(this).closest(".text").addClass("hide"),$(this).closest(".text").siblings(".see-details").removeClass("hide")}),$(".casino-rows .offer-rows .bookie-review").click(function(t){t.preventDefault(),t.stopPropagation(),window.location.href=$(this)[0].href}),$(".casino-rows .offer-rows .claim-now .button").click(function(t){t.preventDefault(),t.stopPropagation(),window.open($(this)[0].href,"_blank")}),$(".casino-rows .offer-rows").click(function(){var t=$(this).find(".claim-now .button");omniture.track(t.attr("data-track")),window.open(t[0].href,"_blank")})};return{init:t}}(),inPlay=function(){var t=function(){$('[id^="menu-"]').click(function(){var t=$(this),e=this.id.substring(5);$(".sportName").removeClass("active"),$(".eventList").addClass("hide"),$("#sportEventContent").find("#list-"+e).parent().removeClass("hide"),t.parent().addClass("active")}),$(".bk3-hover").hoverIntent(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")})};return{init:t}}(),inPlayOverlay=function(){var t=function(){$(".bk3-hover").hoverIntent(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")})};return{init:t}}(),tips=function(){var t=function(){$(".tips h2").click(function(){var t=$(this);t.parents(".tips").toggleClass("closed")})};return{init:t}}(),tipping=function(){var t=function(){$(".ctcViewTips").click(function(){$(this).next(".ctcShowTips").slideToggle(500)})},e=function(){mod_int=1},o=function(){$(".tipping-notes").click(function(){$("#tcTipNote"+$(this).attr("data-tip-id")).toggleClass("hide")})},a=function(t,e,o){var a=15;for("full"==o&&(a=50),"prevFunc"==t&&mod_int>1?mod_int-=1:"nextFunc"==t&&mod_int<Math.ceil(e/a)&&(mod_int+=1),max=mod_int*a,min=max-a,i=1;i<e+1;i++)rowID="tipCompEntrantRow"+i,row=$("#"+rowID),row.length>0&&(i>min&&i<=max?row[0].style.display="":"true"!=row[0].getAttribute("nohide")&&(row[0].style.display="none"));$("#extraRow").length>0&&($("#extraRow")[0].style.display="none"),mod_int<1&&(mod_int=1),mod_int>Math.ceil(e/a)&&(mod_int=Math.ceil(e/a)),"full"==o&&(Math.ceil(e/a)==mod_int?($("#tipCompNextPage").length>0&&($("#tipCompNextPage")[0].style.display="none"),$("#tipCompNext").length>0&&($("#tipCompNext")[0].style.display="none")):($("#tipCompNextPage").length>0&&($("#tipCompNextPage")[0].style.display="none"),$("#tipCompNext").length>0&&($("#tipCompNext")[0].style.display="inline")),1==mod_int?($("#tipCompPrevPage").length>0&&($("#tipCompPrevPage")[0].style.display="inline"),$("#tipCompPrev").length>0&&($("#tipCompPrev")[0].style.display="none")):($("#tipCompPrevPage").length>0&&($("#tipCompPrevPage")[0].style.display="none"),$("#tipCompPrev").length>0&&($("#tipCompPrev")[0].style.display="inline")))};return{initCharityBettingChallenge:t,initCompetitions:e,showHideTipInit:o,showHideRows:a}}(),oddsHistory=function(){var t=function(){var t=document.location.href.indexOf("/today")>-1?"today":"all-history";$(".history-today-url").click(function(){t="today"}),$(".history-all-url").click(function(){t="all-history"}),$("#selection-drop-down").change(function(){var e=$(this).find("option:selected").val();""!==e&&(document.location.href=$(this).attr("data-pre-url")+e+"/"+t)})};return{init:t}}(),accaWinningOdds=function(){var t=function(){if($(".acca-bet-winning-odds").length>0){for(var t=$(".post-match").length,e=1,o=0;t>o;o++){var a=$($(".post-match")[o]).attr("data-winning");e*=a}var i=(10*e).toFixed(2),n=i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");$(".acca-bet-winning-odds").html(oc.currencySymbol+n)}};return{init:t}}(),accumulatorOdds=function(){var t=function(){$(".acca-inner").each(function(){for(var t=$(this),e=t.find(".data-include-acca"),o=e.length,a=1,i="",n="",s=0;o>s;s++){var r=$(e[s]).attr("data-best");a*=r,i+=$(e[s]).attr("data-bid")+"|"+$(e[1]).attr("data-bid"),n+=$(e[s]).attr("data-mid")+"|"+$(e[1]).attr("data-mid"),o-1>s&&(i+="|",n+="|")}t.find(".acca-bet-odds").html(oc.currencySymbol+(10*a).toFixed(2)),t.find(".acca-arrow").addClass("arrow"),t.find(".add-to-bet-basket").click(function(){utilityBar.betBasketAjax(i,n,"add",!1,$(this),!0)})})};return{init:t}}(),dataInclude=function(){var t=function(){var t=$(".data-include-treble");1===t.length&&($(t.find("#data-include-treble-stake-winnings")[0]).html(oc.currencySymbol+(10*$(t.find(".data-include-treble-list")[0]).find(".selected").attr("data-best")*$(t.find(".data-include-treble-list")[1]).find(".selected").attr("data-best")*$(t.find(".data-include-treble-list")[2]).find(".selected").attr("data-best")).toFixed(2)),$(t.find("#data-include-treble-stake-winnings").addClass("data-include-treble-stake-winnings-show")),t.find(".data-include-treble-list").hover(function(){},function(){$(this).find(".data-include-treble-list-participant .data-include-treble-list-state").removeClass("hide"),$(this).removeClass("open")}),$(".data-include-treble-list li").click(function(){var t=$(this).parents(".data-include-treble-list");if(t.hasClass("open")){var e=$(this);e.siblings().removeClass("selected"),e.addClass("selected");var o=$(".data-include-treble");$(o.find("#data-include-treble-stake-winnings")[0]).html(oc.currencySymbol+(10*$(o.find(".data-include-treble-list")[0]).find(".selected").attr("data-best")*$(o.find(".data-include-treble-list")[1]).find(".selected").attr("data-best")*$(o.find(".data-include-treble-list")[2]).find(".selected").attr("data-best")).toFixed(2)),t.find(".data-include-treble-list-participant .data-include-treble-list-state").removeClass("hide"),e.parents(".data-include-treble-list").removeClass("open")}else t.addClass("open"),t.find(".data-include-treble-list-participant .data-include-treble-list-state").addClass("hide")}),t.find(".add-to-bet-basket").click(function(){for(var t=$(".data-include-treble"),e=t.find(".data-include-treble-list-participant.selected"),o=angular.element($('[data-ng-controller="MainController as MainController"]')[0]).controller(),a=0;a<e.length;a++){var i=$(e[a]).attr("data-bid"),n=$(e[a]).attr("data-mid"),s=$(e[a]).attr("data-best");o.addToMultipleBetSlip(i,n,s)}}))},e=function(){$(".video-container").on("click",function(t){t.preventDefault();var e=$(this),o=e.attr("data-video-url"),a=e.attr("data-video-h"),i=e.attr("data-video-w"),n=$('<iframe id="video-player" src="//'+o+'?rel=0&wmode=opaque&autoplay=1" frameborder="0" height="'+a+'" width="'+i+'" type="text/html" class="video-player" title="Video Player" allowfullscreen=""></iframe>');e.html(n)})};return{trebleInit:t,videoInit:e}}(),pastOrNextRace=function(){var t=0,e=function(){o(),setInterval(o,6e4)},o=function(){var e=new Date(new Date(oc.currentDateTime).getTime()+t).getTime();$(".race-time").each(function(){$(this).attr("href",$(this).attr("href").replace(/\/\/(horse-racing|greyhounds)\/(europe|asia|americas|australasia|world)?\/?.+?\//,"/"));var t=new Date($(this).attr("data-time")).getTime(),o=new Date(t-6e5).getTime(),a=new Date(t+3e5).getTime();e>a?$(this).removeClass("next-event pulse").addClass("results"):e>t?$(this).removeClass("next-event pulse").addClass("going"):t>e&&e>o&&($(this).addClass("next-event"),1!==$(this).parents(".nav-content-popout").length&&$(this).addClass("pulse"))}),t+=6e4};return{init:e}}(),commonUtils=function(){var t=function(t,e){return $.ajax(t).done(function(t){e(t)}).fail(function(){alert("An error occured. Please try again")})},e=function(){var t=oc.ssl?"appVersionSSL":"appVersion";if(null===$.cookie(t)||null!==$.cookie(t)&&oc.appVersion!==$.cookie(t)&&$.cookie("number_access")>1){var e=oc.mainUrl+oc.urlPath.replace(/^\//,"");$.log("RELOADING... "+e),window.localStorage.removeItem("GlobalBookieAccountsFactory-"+oc.repub),oc.refreshingApp=!0,setTimeout(function(){window.location=e},200)}$.cookie(t,oc.appVersion,{path:"/",expires:365,domain:oc.cookieDomain,secure:oc.ssl})},o=function(t){angular.element(document.body).injector().invoke(["$compile",function(e){var o=angular.element("body").scope();e($("body").find(t))(o),o.$apply()}])};return{cacheBreaker:e,ajaxCallHandler:t,angularCompiler:o}}(),betslip=function(){var t=function(t,a,i,n){var s=i||oc.oddsType;if("SP"===a)return a;t=parseFloat(t).toFixed(2);var r;switch(s){case"traditional":r=a?a:o(t),-1===r.indexOf("/")&&(r+="/1");break;case"decimal":r=t,n&&(r=r.replace(/.00+$/,"").replace(/(.\d)0/,"$1"));break;case"us":r=e(t);break;case"winnings":r=t*oc.oddsDefaultStake,r=r.toFixed(2)}return r},e=function(t){return t=Number((t-1).toFixed(2)),1>t?t=1/t*-100:t*=100,parseInt(t)},o=function(t){t=(t-1).toFixed(2);for(var e=t.toString(),o=e.length-1,a=1,n=0;o>n;n++)t=10*t,a=10*a;t=Math.round(t),a=Math.round(a);var s=i(t,a);return s&&(t/=s,a/=s),t=Math.round(t),a=Math.round(a),t+(1!==a?"/"+a:"")},a=function(t,e){for(;t>=e;)t-=e;return t},i=function(t,e){for(var o;0!==e;)o=t,t=e,e=a(o,e);return t};return{formatOdds:t}}(),clickout=function(){setTimeout(function(){oc.debugOn?$("#clickout-center").append("<p>"+oc.clickout.signUpLink+"</p>"):window.location.href=null!=document.referrer.match(/oddschecker?|confrontaquote?|theoddsbible?/g)||""!=window.name||document.location.pathname.match(/mapp?|tapp?/g)?oc.clickout.signUpLink:"404.html"},1500)};$.log=function(t,e){(oc.debugOn||"D"===oc.release)&&(e=e||"",console.log(t,e))};